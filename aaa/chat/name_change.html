<!-- <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>名前の変更</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <nav>
        <ul>
            <li><a href="janken.html">ジャンケンゲーム</a></li>
        </ul>
    </nav>
    <h1>名前の変更</h1>
</body>
</html> -->
<?php
    try {
 
        // 接続処理
        $dsn = 'mysql:host=localhost;dbname=sample_db';
        $user = 'root';
        $password = '';
        $dbh = new PDO($dsn, $user, $password);
 
        // SELECT文を発行
        $sql = "SELECT * FROM members";
        $stmt = $dbh->prepare($sql);
        $stmt->execute();
        $rows = $stmt->fetchAll(); // 全てのレコードを取得
 
        // 接続切断
        $dbh = null;
 
    } catch (PDOException $e) {
        print $e->getMessage() . "<br/>";
        die();
    }
?>
 
 
<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>一覧</title>
</head>
<body>
    <table border="1">
        <tr>
            <th>ID</th>
            <th>名前</th>
            <th>年齢</th>
            <th>住所</th>
            <th>更新</th>
        </tr>
<?php
    foreach($rows as $row){
?>
        <tr>
            <td><?php print($row['id']) ?></td>
            <td><?php print($row['name']) ?></td>
            <td><?php print($row['age']) ?></td>
            <td><?php print($row['address']) ?></td>
            <td><a href="edit.php?id=<?php print($row['id']) ?>">更新</a></td>
        </tr>
<?php
    }
?>
    </table>
</body>
</html>
